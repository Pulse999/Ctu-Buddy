<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">  
    <link rel="icon" type="image/png" sizes="32x32" href="Img/faviconV2.png">
    <link rel="author" href="KeneThembinkosi999@gmail.com">
    <title>Share Resources</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="Rescources-styles.css">
</head>
<body>
    <header class="header-main">
        <nav data-aos="fade-down"
        data-aos-easing="linear"
        data-aos-duration="1500">
          <img class="navlogo" src="Img/images.png">
          <img class="ctu-buddy" src="Img/780687fc760999f78c4228f0e7e65736.png" alt="ctu-buddy">
          <div class="off-screen-menu">
              <ul class="navlinks">
                  <button><li><span><a href="Index.html"><i class="fas fa-home"></i>Home</a></span></li></button>
                  <button><li><span><a href="AboutUs.html"><i class="fas fa-user"></i>About Us</a></span></li></button>
                  <button><li><span><a href="Contact.html"><i class="fas fa-address-book"></i>Contact Us</a></span></li></button>
                  <button><li><span><a href="Timetable.html"><i class="fas fa-clock"></i>Timetable</a></span></li></button>
                  <button><li><span><a href="Discussions.html"><i class="fas fa-comments"></i>Discussion</a></span></li></button>
                  <button><li><span><a href="Recources.html"><i class="fas fa-cogs"></i>Recources</a></span></li></button>
              </ul>
            </div>
          <div class="ham-menu">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </nav>
  </header>

    <div class="All-content">
        <section class="hero"data-aos="zoom-in">
            <div class="hero-content">
                <h1>Welcome to the Student Resource Hub</h1>
                <p>Upload, Share, and Discover educational resources to help you succeed!</p>
                <img src="Img/Recources Img.jpg" alt="Students studying together">
            </div>
        </section>
    
        <section class="upload-section" data-aos="fade-down"
        data-aos-easing="linear"
        data-aos-duration="1500">
            <h2>Upload Your Resources</h2>
            <form id="uploadForm" enctype="multipart/form-data">
                <label for="resourceTitle">Resource Title:</label>
                <input type="text" id="resourceTitle" name="resourceTitle" required>
    
                <label for="resourceCategory">Category:</label>
                <select id="resourceCategory" name="resourceCategory">
                    <option value="Cloud">Cloud Fundamentals</option>
                    <option value="Web">Core Web Development</option>
                    <option value="Robotics">Robotic Development</option>
                    <option value="Ethics">Ethics and Network Architecture</option>
                </select>
    
                <label for="resourceFile">Upload PDF:</label>
                <input type="file" id="resourceFile" name="resourceFile" accept=".pdf" required>
    
                <button type="submit">Upload</button>
            </form>
        </section>
    
        <section class="search-section" data-aos="fade-right"
        data-aos-offset="300"
        data-aos-easing="ease-in-sine">
            <h2>Search Resources</h2>
            <input type="text" id="searchBox" placeholder="Search for resources..." oninput="searchResources()">
            <div id="resourceList"></div>
        </section>
    
        <section class="resource-list" data-aos="flip-left"
            data-aos-easing="ease-out-cubic"
            data-aos-duration="2000">
            <h2>Available Resources</h2>
            <div id="resourcesContainer">
                <!-- Resource items will be dynamically inserted here by JS -->
            </div>
        </section>
    </div>
    
    <footer class="footer" data-aos="fade-down"
    data-aos-easing="linear"
    data-aos-duration="1500">
        <div class="footer-container">
            <!-- Logo & Social Media -->
            <div class="footer-logo-social">
                <div class="logo">
                    <img src="Img/780687fc760999f78c4228f0e7e65736.png" alt="Institution Logo"> <!-- Replace with actual logo -->
                </div>
                <div class="social-media">
                    <a href="https://facebook.com" target="_blank">
                        <img src="Img/icons8-facebook-32.png" alt="Facebook">
                    </a>
                    <a href="https://twitter.com" target="_blank">
                        <img src="Img/icons8-twitter-30.png" alt="Twitter">
                    </a>
                    <a href="https://youtube.com" target="_blank">
                        <img src="Img/icons8-youtube-30.png" alt="YouTube">
                    </a>
                    <a href="https://instagram.com" target="_blank">
                        <img src="Img/icons8-instagram-48.png" alt="Instagram">
                    </a>
                    <a href="https://tiktok.com" target="_blank">
                        <img src="Img/icons8-tik-tok-24.png" alt="TikTok">
                    </a>
                    <a href="https://linkedin.com" target="_blank">
                        <img src="Img/icons8-linkedin-2-50.png" alt="LinkedIn">
                    </a>
                </div>
                <p class="social-text">Connect with us on social media!</p>
            </div>

            <!-- Navigation Links -->
            <div class="footer-links">
                <ul>
                    <li><span><a href="Index.html">Home</a></span></li>
                    <li><span><a href="AboutUs.html">About Us</a></span></li>
                    <li><span><a href="Contact.html">Contact Us</a></span></li>
                    <li><span><a href="Timetable.html">Time Table</a></span></li>
                    <li><span><a href="Discussions.html">Discussion</a></span></li>
                    <li><span><a href="Recources.html">Resources</a></span></li>
                </ul>
            </div>

            <!-- Contact Info -->
            <div class="footer-contact">
                <p><strong>Contact Us on WhatsApp:</strong></p><br>
                <ul>
                    <li>Themba Kene - <a href="https://wa.me/1234567890">+123 456 7890</a></li>
                    <li>Lodewyk Pretorious - <a href="https://wa.me/0987654321">+098 765 4321</a></li>
                    <li>Themba Ramanamane - <a href="https://wa.me/1122334455">+112 233 4455</a></li>
                    <li>Tyrique Prince - <a href="https://wa.me/5566778899">+556 677 8899</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Ctu Buddy. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const hamMenu = document.querySelector(".ham-menu");

        const offScreenMenu = document.querySelector(".off-screen-menu");

        hamMenu.addEventListener("click", () => {
        hamMenu.classList.toggle("active");
        offScreenMenu.classList.toggle("active");
        });
    </script>

    <script>
        $(document).ready(function() {
    // Fetch and display resources on page load
    fetchResources();

    // Handle form submission for file upload
    $('#uploadForm').submit(function(event) {
        event.preventDefault();  // Prevent default form submission

        var formData = new FormData(this);

        $.ajax({
            url: '/upload',  // Server upload endpoint
            type: 'POST',
            data: formData,
            contentType: false,
            processData: false,
            success: function(response) {
                alert('Resource uploaded successfully!');
                fetchResources();  // Refresh resource list
            },
            error: function(err) {
                alert('Error uploading resource: ' + err.responseText);
            }
        });
    });

    // Fetch and display all resources
    function fetchResources() {
        $.get('/resources', function(data) {
            $('#resourcesContainer').empty();  // Clear the resource list
            data.forEach(function(resource) {
                $('#resourcesContainer').append(`
                    <div class="resource-item">
                        <img src="Img/Pdf icon.png" alt="PDF Icon for ${resource.title}">
                        <h3>${resource.title}</h3>
                        <p>Category: ${resource.category}</p>
                        <a href="/download/${resource._id}">Download</a>
                    </div>
                `);
            });
        });
    }

    // Implement search functionality
    $('#searchBox').on('input', searchResources);

    function searchResources() {
        const query = $('#searchBox').val().toLowerCase();
        $('#resourcesContainer .resource-item').filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(query) > -1);
        });
    }
});
    </script>

    <script>
        const mobileMenu = document.getElementById('mobile-menu');
        const navList = document.getElementById('nav-list');

        mobileMenu.addEventListener('click', () => {
            navList.classList.toggle('active');
        });
    </script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
</body>
</html>
